version: '3.8'
services:
  dingbot:
    build: ./dingbot
    ports:
      - "8080:8080"
    environment:
      - ACCESS_TOKEN=${ACCESS_TOKEN}
      - SECRET=${SECRET}
      # optional Gemini settings
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - GEMINI_API_URL=${GEMINI_API_URL}
      - DATABASE_PATH=/data/dingbot_memory.db
    volumes:
      - dingbot_data:/data

volumes:
  dingbot_data:
